{
	"info": {
		"_postman_id": "tsp-solver-api-collection",
		"name": "TSP Solver API",
		"description": "Complete API collection for the Travelling Salesman Problem Solver backend. Tests all endpoints including file upload, solving algorithms, and retrieving solutions. Uses organized test files from txt/ folder with algorithm-specific datasets.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "tsp-api-v2"
	},
	"item": [
		{
			"name": "Health Check",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/actuator/health",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"actuator",
						"health"
					]
				},
				"description": "Check if the Spring Boot application is running and healthy"
			},
			"response": []
		},
		{
			"name": "Upload Coordinate File (Small - 5 points)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Status code is 200', function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test('Response has id', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson).to.have.property('id');",
							"    pm.environment.set('smallFileId', responseJson.id);",
							"});",
							"",
							"pm.test('Point count is 5', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.pointCount).to.eql(5);",
							"});",
							"",
							"pm.test('Status is UPLOADED', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.status).to.eql('UPLOADED');",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "file",
							"type": "file",
							"src": [],
							"description": "Upload exact_5_points.txt with 5 coordinate points for ExactTSPSolver"
						}
					]
				},
				"url": {
					"raw": "{{baseUrl}}/api/tsp/upload",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"api",
						"tsp",
						"upload"
					]
				},
				"description": "Upload a coordinate file with 5 points. Expected to use ExactTSPSolver (Brute Force or Dynamic Programming).\n\nFile: txt/exact_5_points.txt\n```\n0.0,0.0\n1.0,3.0\n4.0,3.0\n6.0,1.0\n3.0,0.0\n```"
			},
			"response": []
		},
		{
			"name": "Upload Coordinate File (Medium - 15 points)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Status code is 200', function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test('Response has id', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson).to.have.property('id');",
							"    pm.environment.set('mediumFileId', responseJson.id);",
							"});",
							"",
							"pm.test('Point count is 15', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.pointCount).to.eql(15);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "file",
							"type": "file",
							"src": [],
							"description": "Upload heuristic_15_points.txt with 15 coordinate points for HeuristicTSPSolver"
						}
					]
				},
				"url": {
					"raw": "{{baseUrl}}/api/tsp/upload",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"api",
						"tsp",
						"upload"
					]
				},
				"description": "Upload a coordinate file with 15 points. Expected to use HeuristicTSPSolver (Nearest Neighbor + 2-opt).\n\nFile: txt/heuristic_15_points.txt\n```\n0.0,0.0\n4.0,8.0\n9.0,12.0\n15.0,10.0\n18.0,5.0\n[...additional points]\n```"
			},
			"response": []
		},
		{
			"name": "Upload Large File (30 points - Metaheuristic)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Status code is 200', function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test('Response has id', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson).to.have.property('id');",
							"    pm.environment.set('largeFileId', responseJson.id);",
							"});",
							"",
							"pm.test('Point count is 30', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.pointCount).to.eql(30);",
							"});",
							"",
							"pm.test('Status is UPLOADED', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.status).to.eql('UPLOADED');",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "file",
							"type": "file",
							"src": [],
							"description": "Upload metaheuristic_30_points.txt with 30 coordinate points for MetaheuristicTSPSolver"
						}
					]
				},
				"url": {
					"raw": "{{baseUrl}}/api/tsp/upload",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"api",
						"tsp",
						"upload"
					]
				},
				"description": "Upload a coordinate file with 30 points. Expected to use MetaheuristicTSPSolver (Simulated Annealing).\n\nFile: txt/metaheuristic_30_points.txt\n```\n0.0,0.0\n7.0,14.0\n18.0,22.0\n[...additional points]\n```"
			},
			"response": []
		},
		{
			"name": "Solve Small TSP (Auto Algorithm)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Status code is 200', function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test('Status is SOLVED', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.status).to.eql('SOLVED');",
							"});",
							"",
							"pm.test('Algorithm is exact (BRUTE_FORCE or DYNAMIC_PROGRAMMING)', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.algorithm).to.match(/BRUTE_FORCE|DYNAMIC_PROGRAMMING/);",
							"});",
							"",
							"pm.test('Has route with correct number of points', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.route).to.have.lengthOf(5);",
							"});",
							"",
							"pm.test('Total distance is reasonable', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.totalDistance).to.be.above(0);",
							"});",
							"",
							"pm.test('Execution time is fast (< 1000ms)', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.executionTimeMs).to.be.below(1000);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/api/tsp/{{smallFileId}}/solve",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"api",
						"tsp",
						"{{smallFileId}}",
						"solve"
					]
				},
				"description": "Solve the small TSP problem (5 points) using automatic algorithm selection. Should use ExactTSPSolver for optimal results."
			},
			"response": []
		},
		{
			"name": "Solve Medium TSP (Auto Algorithm)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Status code is 200', function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test('Algorithm is heuristic (NEAREST_NEIGHBOR_2OPT)', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.algorithm).to.eql('NEAREST_NEIGHBOR_2OPT');",
							"});",
							"",
							"pm.test('Has route with correct number of points', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.route).to.have.lengthOf(15);",
							"});",
							"",
							"pm.test('Execution time is reasonable (< 5000ms)', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.executionTimeMs).to.be.below(5000);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/api/tsp/{{mediumFileId}}/solve",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"api",
						"tsp",
						"{{mediumFileId}}",
						"solve"
					]
				},
				"description": "Solve the medium TSP problem (15 points) using automatic algorithm selection. Should use HeuristicTSPSolver (Nearest Neighbor + 2-opt)."
			},
			"response": []
		},
		{
			"name": "Solve Large TSP (Auto Algorithm - Metaheuristic)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Status code is 200', function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test('Algorithm is metaheuristic (SIMULATED_ANNEALING)', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.algorithm).to.eql('SIMULATED_ANNEALING');",
							"});",
							"",
							"pm.test('Has route with correct number of points', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.route).to.have.lengthOf(30);",
							"});",
							"",
							"pm.test('Execution time is reasonable (< 30000ms)', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.executionTimeMs).to.be.below(30000);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/api/tsp/{{largeFileId}}/solve",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"api",
						"tsp",
						"{{largeFileId}}",
						"solve"
					]
				},
				"description": "Solve the large TSP problem (30 points) using automatic algorithm selection. Should use MetaheuristicTSPSolver (Simulated Annealing)."
			},
			"response": []
		},
		{
			"name": "Solve TSP with Forced Algorithm (Heuristic)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Status code is 200', function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test('Algorithm matches requested', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.algorithm).to.eql('NEAREST_NEIGHBOR_2OPT');",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/api/tsp/{{smallFileId}}/solve?algorithm=heuristic&maxTime=30",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"api",
						"tsp",
						"{{smallFileId}}",
						"solve"
					],
					"query": [
						{
							"key": "algorithm",
							"value": "heuristic",
							"description": "Force use of heuristic algorithm"
						},
						{
							"key": "maxTime",
							"value": "30",
							"description": "Maximum solving time in seconds"
						}
					]
				},
				"description": "Solve TSP with manually specified algorithm (override automatic selection). This forces the use of heuristic solver even for small problems."
			},
			"response": []
		},
		{
			"name": "Get Solution by ID",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Status code is 200', function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test('Response has solution data', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson).to.have.property('id');",
							"    pm.expect(responseJson).to.have.property('status');",
							"    pm.expect(responseJson).to.have.property('pointCount');",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/api/tsp/{{smallFileId}}",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"api",
						"tsp",
						"{{smallFileId}}"
					]
				},
				"description": "Retrieve a specific TSP solution by its ID. Shows complete solution details including route, distance, and algorithm used."
			},
			"response": []
		},
		{
			"name": "Get All Solutions",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Status code is 200', function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test('Response has solutions array', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson).to.have.property('solutions');",
							"    pm.expect(responseJson.solutions).to.be.an('array');",
							"});",
							"",
							"pm.test('Solutions array is not empty', function () {",
							"    const responseJson = pm.response.json();",
							"    pm.expect(responseJson.solutions.length).to.be.above(0);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/api/tsp",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"api",
						"tsp"
					]
				},
				"description": "Get all TSP solutions stored in the system. Useful for listing and managing multiple problems and their solutions."
			},
			"response": []
		},
		{
			"name": "Delete Solution",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Status code is 204', function () {",
							"    pm.response.to.have.status(204);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/api/tsp/{{mediumFileId}}",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"api",
						"tsp",
						"{{mediumFileId}}"
					]
				},
				"description": "Delete a specific TSP solution by ID. Useful for cleanup and managing storage."
			},
			"response": []
		},
		{
			"name": "Upload Invalid File (Error Test)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Status code is 400', function () {",
							"    pm.response.to.have.status(400);",
							"});",
							"",
							"pm.test('Error message is returned', function () {",
							"    const responseText = pm.response.text();",
							"    pm.expect(responseText).to.include('error').or.include('Invalid');",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "file",
							"type": "file",
							"src": [],
							"description": "Upload an invalid file (not .txt or wrong format)"
						}
					]
				},
				"url": {
					"raw": "{{baseUrl}}/api/tsp/upload",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"api",
						"tsp",
						"upload"
					]
				},
				"description": "Test error handling by uploading an invalid file. Should return 400 Bad Request with error message."
			},
			"response": []
		},
		{
			"name": "Get Non-existent Solution (404 Test)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Status code is 404', function () {",
							"    pm.response.to.have.status(404);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/api/tsp/non-existent-id-12345",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"api",
						"tsp",
						"non-existent-id-12345"
					]
				},
				"description": "Test 404 error handling by requesting a solution that doesn't exist."
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string",
			"description": "Base URL for the TSP API server"
		}
	]
}